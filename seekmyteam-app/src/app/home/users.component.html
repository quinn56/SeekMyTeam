<div class="container-fluid wrapper">
    <div class="row pr-3" style="height: 100vh">
        <div class="col-3 bg-secondary">
            <div style="position: sticky; position: -webkit-sticky; top: 0">
                <br>
                <h3 class="text-center">Filter</h3>
                <hr class="border-bottom mb-2">
                <h6>Search User By Name</h6>
                <input class="form-control" [(ngModel)]="searchText" placeholder="Search">

                <div class="form-group mt-3">
                    <h6>Filter By Skills</h6>
                    <select class="form-control" id="filterSkill" #fsk (change)="filterAddSkill(fsk.value)">
                        <option value="Select a skill" disabled>Select a skill</option>
                        <option *ngFor="let skill of SKILLS_ARRAY" value={{skill}}>
                            {{skill}}
                        </option>
                    </select>
                </div>

                <div class="col-sm-8 mt-2">
                    <br>
                    <!-- <button type="button" class="btn btn-outline-info mr-2"
                        *ngFor="let item of filterSkills; let i = index"
                        (click)="filterDeleteSkill(i)">{{item}}</button> -->
                    <button type="button" class="btn btn-warning m-1 form-control text-truncate"
                        *ngFor="let item of filterSkills; let i = index"
                        (click)="filterDeleteSkill(i)">{{item}}</button>

                </div>
            </div>
        </div>
        <!-- <div class="col-9 pl-3 pr-3">

            <div style="cursor: pointer;" class="card text-center mb-3"
                *ngFor="let user of users | filter:searchText:'name' | skills:filterSkills:'skills'; let idx = index"
                (click)="routeProfile(user)">
                <div class="card-header text-left">
                    <div class="image">
                        <img class="img-fluid img" [src]='buildPic(user.email)'>
                    </div>
                    <br>
                    <h4>{{user.name}}</h4>
                </div>
                <div class="card-body text-left">
                    <h6>{{user.description}}</h6>
                    <div class="form-group mt-3 mb-0">
                        <button type="button" class="btn btn-outline-info mr-2"
                            *ngFor="let item of user.skills; let i = index">{{item}}</button>
                    </div>
                </div>
            </div>
        </div> -->

        <div class="col-9">
            <div class="row mr-5">
                <div class="offset-md-1 card col-md-5 offset-sm-1 col-sm-10 mt-4" *ngFor="let user of users | filter:searchText:'name' | skills:filterSkills:'skills'; let idx = index" style="cursor: pointer;" (click)="routeProfile(user)">
                    <div class="card-header mt-3 text-left">
                        <div class="row">
                            <div class="col-6">
                                <img class="img-fluid rounded" [src]='buildPic(user.email)' onerror="this.onerror=null;this.src='https://s3.us-east-2.amazonaws.com/seekmyteam-profile-pics/default_profile.png';">
                            </div>
                            <div class="col-6 mt-2">
                                <h5><b>{{user.name}}</b></h5>
                                <h6>{{user.email}}</h6>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <h6>{{user.description}}</h6>
                    </div>
                    <div class="card-footer mb-3">
                        <div class="form-group">
                            <button type="button" class="btn btn-outline-info mr-2" *ngFor="let item of user.skills; let i = index">{{item}}</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .image {
        position: relative;
        /* overflow: hidden; */
        /* padding-bottom: 25%; */
        height: 6vh;
        /* max-height:  */
    }

    .image img {
        position: absolute;
        width: 5%;
        border-radius: 20%;
        height: 100%;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        object-fit: cover;
        object-position: center;
    }
</style>